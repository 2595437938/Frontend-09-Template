<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<style>
			* {
				margin: 0;
				padding: 0;
			}
			.cell {
				display: inline-block;
				line-height: 7px;
				width: 6px;
				height: 6px;
				background-color: gray;
				border-bottom: solid 1px white;
				border-right: solid 1px white;
				vertical-align: top;
			}
			#container{
				width: 701px;
			}
		</style>
		<div id="container"></div>
		<button onclick="localStorage['map'] = JSON.stringify(map)">save</button>
		<script>
			//用一维数组来保存地图
			let map = localStorage["map"] ? JSON.parse(localStorage["map"]) : Array(10000).fill(0);
			//取到界面的container
			let container = document.getElementById("container");
			//往地图添加每个格子
			for(let y = 0; y < 100; y++){
				for(let x = 0; x < 100; x++){
					//为每一个创建单元格加上cell的class
					let cell = document.createElement("div");
					cell.classList.add("cell");
					
					if(map[100*y + x] == 1)
					cell.style.backgroundColor = "black";
					
					cell.addEventListener("mousemove", () => {
						if(mousedown) {
							if(clear) {
								cell.style.backgroundColor = "";
								map[100*y + x] = 0;
							} else {
								cell.style.backgroundColor = "black";
								map[100*y + x] = 1;
							}
						}
					})
					container.appendChild(cell);
				}
			}
			
			let mousedown = false;
			let clear = false;
			//判断是否在按住左键的情况下移动鼠标
			document.addEventListener("mousedown", e => {
				mousedown = true;
				clear = (e.which === 3)
			});
			document.addEventListener("mouseup", () => mousedown = false);
			document.addEventListener("contextmenu", e => e.preventDefault());//去除右键弹出菜单
			
			
			function path(map, start, end){
				
			}
		</script>
	</body>
</html>
